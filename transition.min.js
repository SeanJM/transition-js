/*! transition 2015-11-28 */

function transition(){function assign(a,b){for(var k in b)a[k]=b[k];return a}function processQueue(){for(var a;queue.length;)if(a=queue[0],queue[a.type].apply(null,a.arguments),queue.shift(),"startAnimation"===a.type)return!1}function pushQueue(type,arguments){queue.push({type:type,arguments:[].slice.call(arguments)})}function trasitionNode(result,progress,nodeList){for(var i=0,n=nodeList.length;n>i;i++)for(var k in result)nodeList[i].style[k]=result[k]}function step(key,progress){var selfDelta=properties.ease(properties.delta,progress),start=properties.start[key],end=properties.end[key];return start+selfDelta*(end-start)}function setFrame(progress){var result={};for(var key in properties.start)result[key]=step(key,progress);transitionFunction(result,progress)}function beginAnimation(startTime,iteration){animationTimer=setInterval(function(){var timePassed=new Date-startTime,progress=timePassed/properties.duration;progress>1&&(progress=1),setFrame(progress),1===progress&&(iteration+=1,clearInterval(animationTimer),properties.iterations===iteration?processQueue():beginAnimation(new Date,iteration))},10)}function init(){var self={start:function(){return pushQueue("startAnimation",arguments),"undefined"==typeof animationTimer&&processQueue(),self},then:function(){return pushQueue("setAnimationProperties",arguments),self},complete:function(){return pushQueue("endAnimationCallback",arguments),self},stop:function(){clearInterval(animationTimer)}};return queue.push({type:"setAnimationProperties",arguments:[].slice.call(arguments)}),self}var animationTimer,transitionFunction,queue=[],properties={};return queue.setAnimationProperties=function(_properties_){properties=assign({duration:600,delay:0,delta:transition.delta.quadratic,ease:transition.ease.inOut,iterations:1},_properties_)},queue.startAnimation=function(){var nodeList=[].slice.call(arguments);transitionFunction="function"==typeof arguments[0]?arguments[0]:function(result,progress){trasitionNode(result,progress,nodeList)},animationTimer=setTimeout(function(){beginAnimation(new Date,0)},properties.delay)},queue.endAnimationCallback=function(callback){callback()},init.apply(null,arguments)}transition.delta={linear:function(p){return p},quadratic:function(p){return Math.pow(p,5)},bounce:function(p){for(var a=0,b=1;1;a+=b,b/=2)if(p>=(7-4*a)/11)return-Math.pow((11-6*a-11*p)/4,2)+Math.pow(b,2)},elastic:function(p){return Math.pow(2,15*--p)*Math.cos(15*p*Math.PI*1/3)},back:function(p){var x=10.618;return Math.pow(p,2)*((x+1)*p-x)}},transition.ease={"in":function(deltaFn,progress){return deltaFn(progress)},out:function(deltaFn,progress){return 1-deltaFn(1-progress)},inOut:function(deltaFn,progress){return.5>progress?deltaFn(2*progress)/2:(2-deltaFn(2*(1-progress)))/2}};
//# sourceMappingURL=transition.min.js.map