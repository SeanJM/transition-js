!function(){function t(t,n){this.method={then:[],"catch":[]},this.options=t.options,this.callback=n,this.iterations=0}function n(t){var n=10.618;return Math.pow(t,2)*((n+1)*t-n)}function e(t){for(var n=0,e=1;1;n+=e,e/=2)if(t>=(7-4*n)/11)return-Math.pow((11-6*n-11*t)/4,2)+Math.pow(e,2)}function o(t){return t}function i(t){return Math.pow(t,5)}function r(t,n){return n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2}function a(t,n){return t(n)}function s(t,n){return 1-t(1-n)}function u(n){return new t(this,n).start(new Date)}function h(t){this.options={start:t.start,end:t.end,delta:w[t.delta]||w.quadratic,ease:y[t.ease]||y["in-out"],elastic:t.elastic||0,iterations:t.iterations||1,duration:t.duration||300,fps:t.fps?1e3/t.fps:10}}function c(t){t()}function f(t){this.queue=[],this.history=[],enqueue(this,{name:"transition",method:h,arguments:[t]})}function p(t,n){for(var e in t)if(n(t[e],e)===!1)return!1}function d(t,n){return Math.round(t*Math.pow(10,n))/Math.pow(10,n)}function l(t){t.method["catch"]=[],m(t.method.then)}function m(t){for(var n=arguments.length,e=new Array(n),o=1;o<n;o++)e.push(arguments[o]);for(;t&&t.length;)t[0].apply(e),t.shift()}var w={back:n,bounce:e,linear:o,quadratic:i},y={"in":a,"in-out":r,out:s};t.prototype.then=function(t){this.method.then.push(t)},t.prototype.elastify=function(t){var n=5*this.options.elastic;return 0!==this.options.elastic?Math.pow(2,15*--t)*Math.cos(n*t*Math.PI*1/3):t},t.prototype.start=function(t){var n=this,e=this.options.start,o=this.options.end,i=n.options.duration;return this.options.timer=setInterval(function(){var r=Math.min((new Date-t)/i,1),a={};p(n.options.start,function(t,i){var s=n.elastify(n.options.ease(n.options.delta,r)),u=d(s,2);a[i]=e[i]+u*(o[i]-e[i])}),n.callback(a,r),1===r&&(n.iterations++,clearInterval(n.options.timer),n.options.iterations===n.iterations?l(n):n.start(new Date))},n.options.fps),this},function(){function t(t){var n=t.slice(-1)[0],e=t.length>1&&t.slice(-2)[0],o=n&&e&&n.method!==c&&n.method===e.method;if(o)throw"Cannot chain two of the same method, unless that method is 'then'"}function n(t){var e,i=t.queue;!o&&i[0]&&(e=i[0].method.apply(t,i[0].arguments),e&&"function"==typeof e.then?(o=!0,e.then(function(){o=!1,i.shift(),n(t)})):(i.shift(),n(t)))}function e(e,o){e.queue.push(o),e.history.push(o),t(e.history),n(e)}var o=!1;window.enqueue=e}(),window.transition=function(t){return new f(t)},f.prototype.start=function(t){return enqueue(this,{name:"start",method:u,arguments:[t]}),this},f.prototype.transition=function(t){return enqueue(this,{name:"transition",method:h,arguments:[t]}),this},f.prototype.then=function(t){return enqueue(this,{name:"then",method:c,arguments:[t]}),this},f.prototype.stop=function(t){return this.queue=[],clearInterval(this.options.timer),this},f.ease={"in":a,out:s,inOut:r},f.delta={linear:o,quadratic:i,bounce:e,back:n}}();