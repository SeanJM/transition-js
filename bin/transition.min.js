!function(a,b){function c(a,b){for(var c in a)if(b(a[c],c)===!1)return!1}function d(a,b){return Math.round(a*Math.pow(10,b))/Math.pow(10,b)}function e(a){a.method.catch=[],f(a.method.then)}function f(a){for(var b=arguments.length,c=new Array(b),d=1;d<b;d++)c.push(arguments[d]);for(;a&&a.length;)a[0].apply(c),a.shift()}function g(a,b){this.method={then:[],catch:[]},this.options=a.options,this.callback=b,this.iterations=0}function h(a){var b=6;return Math.pow(a,2)*((b+1)*a-b)}function i(a){for(var b=0,c=1;1;b+=c,c/=2)if(a>=(7-4*b)/11)return-Math.pow((11-6*b-11*a)/4,2)+Math.pow(c,2)}function j(a){return a}function k(a){return Math.pow(a,4)}function l(a,b){return b<=.5?a(2*b)/2:(2-a(2*(1-b)))/2}function m(a,b){return a(b)}function n(a,b){return 1-a(1-b)}function o(a){return new g(this,a).start()}function p(a){var b={},c={},d={back:h,bounce:i,linear:j,quadratic:k},e={in:m,"in-out":l,out:n};for(var f in a)s.indexOf(f)===-1&&(b[f]=a[f][0],c[f]=a[f][1]);this.options={start:b,end:c,delta:d[a.delta]||d.quadratic,ease:e[a.ease]||e["in-out"],elastic:a.elastic?Math.min(a.elastic,1):0,iterations:"number"==typeof a.iterations?a.iterations:1,duration:a.duration||300,delay:a.delay||0,fps:a.fps?1e3/a.fps:5}}function q(a){"function"==typeof a&&a()}function r(a){this.queue=[],this.history=[],enqueue(this,{name:"transition",method:p,arguments:[a]})}var s=["delta","ease","elastic","iterations","duration","delay","fps"];g.prototype.then=function(a){this.method.then.push(a)},g.prototype.elastify=function(a){var b=400*this.options.elastic,c=1-b/1e3,d=(1-a)/1-1,e=c/(2*Math.PI)*Math.asin(1),f=-(Math.pow(2,10*d)*Math.sin((d-e)*(2*Math.PI)/c));return 1===a||0===a?a:0===this.options.elastic?a:1-f},g.prototype.start=function(){var a,b,f=this,g=this.options.start,h=this.options.end,i=this.options.duration,j=this.options.delay,k={};return setTimeout(function(){f.options.timer=setInterval(function(){b=b||new Date,a=Math.min((new Date-b)/i,1),c(g,function(b,c){var e=f.elastify(f.options.ease(f.options.delta,a)),i=d(e,2);k[c]=g[c]+i*(h[c]-g[c])}),f.callback(k,a),1===a&&(f.iterations++,clearInterval(f.options.timer),f.options.iterations===f.iterations?e(f):f.start())},f.options.fps)},j),this},function(){function a(a){var b=a.slice(-1)[0],c=a.length>1&&a.slice(-2)[0],d=b&&c&&b.method!==q&&b.method===c.method;if(d)throw"Cannot chain two of the same method, unless that method is 'then'"}function b(a){var c,d=a.queue;!a.waiting&&d[0]&&(c=d[0].method.apply(a,d[0].arguments),c&&"function"==typeof c.then?(a.waiting=!0,c.then(function(){a.waiting=!1,d.shift(),b(a)})):(d.shift(),b(a)))}function c(c,d){c.queue.push(d),c.history.push(d),a(c.history),b(c)}window.enqueue=c}(),r.prototype.start=function(a){return enqueue(this,{name:"start",method:o,arguments:[a]}),this},r.prototype.transition=function(a){return enqueue(this,{name:"transition",method:p,arguments:[a]}),this},r.prototype.then=function(a){return enqueue(this,{name:"then",method:q,arguments:[a]}),this},r.prototype.stop=function(a){return this.queue=[],clearInterval(this.options.timer),this},r.ease={in:m,out:n,inOut:l},r.delta={linear:j,quadratic:k,bounce:i,back:h},window.transition=function(a){return new r(a)},b.true=a}({},function(){return this}());